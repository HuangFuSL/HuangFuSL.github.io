# 预测与需求建模

经典模型（如滑动平均、指数平滑等）的缺陷在于：

* 经典模型持续依赖于历史观测数据
* 部分模型（如滑动平均）仅适用于平稳序列
* 产品的生命周期不同，如果一个产品的生命周期明显较短，意味着没有充足的历史数据对该产品进行预测。

本章讨论如下模型，这些模型可以用于预测生命周期较短的产品。

* Bass扩散模型
* 领先指标模型
* 选择模型

## Bass扩散模型

Bass模型提出了扩散过程的概念。（某一类）新产品首次上市后，该产品的设计理念等内容会在市场上扩散（被模仿），造成同类产品的产量上升。

前提假设：

* 市场上的用户数量不变
* 用户可以被简单分为创新者与模仿者
* 创新者购买产品的决策不受到其他个体的影响
* 模仿者购买产品的决策受到其他个体的影响，这种影响方式通过个体间的交流实现

定义：$P(t)$为市场中的一个顾客在$t$时刻作出购买决策的概率

$$
P(t) = p + \frac{q}{m} D(t)
$$

* $p$为创新系数
* $q$为模仿系数，$p\ll q$
* $m$为消费者的总量，也即市场规模，常数
* $D(t)$为时间从$0$到$t$的累积购买量

即，市场上的累计需求$D(t)$越大，消费者越容易作出购买决策。

不妨设$d(t) = \frac{\mathrm dD}{\mathrm dt}$，即$t$时刻市场上购买人数，根据$P(t)$的定义，有：

$$
P(t) = \frac{d(t)}{m - D(t)}
$$

联立二式，得到：

$$
\begin{aligned}
p + \frac{q}{m} D(t) &= \frac{d(t)}{m - D(t)} \\
d(t) &= (m-D(t))\left(p + \frac qmD(t)\right) \\
d(t) &= -\frac qmD^2(t) + (q-p)D(t) + pm
\end{aligned}
$$

解微分方程$\frac{\mathrm dD}{\mathrm dt} = -\frac qmD^2 + (q-p)D + pm$，得$D(t)$：

$$
\boxed{\begin{aligned}D(t) &= m\frac{1-e^{-(p+q)t}}{1+\frac qp e^{-(p+q)t}} \\ d(t) &= m\frac{p(p+q)^2e^{-(p+q)t}}{\left(p+qe^{-(p+q)t}\right)^2}\end{aligned}}
$$

对$d(t)$进一步求导，得当且仅当$t = \frac{1}{p+q}\log \frac{q}{p}$时，$d(t)$取得最大值。

此时：

$$
\boxed{\begin{aligned}d(t) &= \frac{m(p+q)^2}{4q} \\ D(t) &= \frac{m(q-p)}{2q}\end{aligned}}
$$

结果说明：

* 当$p$很小时，意味着销售量的增长缓慢
* 当$p, q$很大时，意味着销售量的增长与下跌均迅速
* 仅当$q>p$时，上式才有意义，否则意味着销售量持续下跌

